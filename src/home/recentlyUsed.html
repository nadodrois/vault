<div class="page-header">
    <h3>Recently Accessed Items</h3>
</div>

<div class="content">
    <loader when="!recent.$resolved"></loader>

    <table class="table table-hover" ng-show="recent.length > 0">
        <thead>
        <tr>
            <th>#</th>
            <th>Project</th>
            <th>Name</th>
            <th>Username</th>
            <th>URL</th>
            <th>Accessed</th>
            <th></th>
        </tr>
        </thead>
        <tr ng-repeat="entry in recent" ng-class="{'list-group-item-warning': entry.id == active.id}">
            <td>{{ entry.id }}</td>
            <td><a ui-sref="user.projects({active: entry.project_id})" title="Go to projects">{{ entry.project_name }}</a></td>
            <td><a ui-sref="user.project({projectId: entry.project_id, active: entry.id})" title="Go to entry">{{ entry.name }}</a></td>
            <td><span title="{{entry.note}}">{{ entry.username }}</span></td>
            <td><span title="{{entry.note}}">{{ entry.url }}</span></td>
            <td><span am-time-ago="entry.created_at" title="{{ entry.created_at }}"></span></td>
            <td class="text-right">
                <copy-password entry="entry"></copy-password>
                <show-password entry-id="entry.id"></show-password>
            </td>
        </tr>
    </table>

    <div ng-show="recent.$resolved && recent.length == 0">
        There are no recently accessed items.
    </div>
</div>
